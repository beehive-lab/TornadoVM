#
# This file is part of Tornado: A heterogeneous programming framework:
# https://github.com/beehive-lab/tornadovm
#
# Copyright (c) 2020, APT Group, Department of Computer Science,
# School of Engineering, The University of Manchester. All rights reserved.
# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
#
# This code is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License version 2 only, as
# published by the Free Software Foundation.
#
# This code is distributed in the hope that it will be useful, but WITHOUT
# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
# FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
# version 2 for more details (a copy is included in the LICENSE file that
# accompanied this code).
#
# You should have received a copy of the GNU General Public License version
# 2 along with this work; if not, write to the Free Software Foundation,
# Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
#

# Allow modules to read jdk.graal.compiler and jdk.internal.vm.ci
--add-reads=tornado.runtime=jdk.graal.compiler
--add-reads=tornado.runtime=jdk.internal.vm.ci
--add-reads=tornado.drivers.common=jdk.graal.compiler

##
#
# Common exports for TornadoVM with JDK 25 + Graal 25.0.2
# NOTE: Backend-specific modules (ptx, spirv, opencl) are exported in their
# respective files under exportLists/ to avoid "Unknown module" warnings
# when a backend is not installed.
#

# Graal compiler exports - common modules only
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.cfg=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.hotspot.meta=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common.util=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.lir=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.graph=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.graph.spi=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.lir.gen=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodeinfo=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.calc=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.spi=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.api.runtime=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.code=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.target=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.debug=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.hotspot=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.java=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.lir.asm=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.lir.phases=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.graphbuilderconf=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.loop=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.options=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.lir.framemap=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.lir.constopt=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.tiers=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.util=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.printer=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.runtime=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.graph.iterators=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.java=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.bytecode=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.common=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common.spi=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.api.replacements=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.replacements=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.common.inlining=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.phases=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common.type=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.extended=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.common.inlining.info=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.common.inlining.policy=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.common.inlining.walker=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.loop.phases=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.debug=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.memory=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.util=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.virtual=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.gc=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.memory.address=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.replacements.nodes=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.word=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common.alloc=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common.memory=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common.cfg=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.asm=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.schedule=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.virtual.phases.ea=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.lir.ssa=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.common.calc=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.gen=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.core.match=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.type=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.graph=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.phases.common.util=tornado.runtime,tornado.drivers.common
--add-exports=jdk.graal.compiler/jdk.graal.compiler.replacements.classfile=tornado.runtime,tornado.drivers.common

# JVMCI exports
--add-exports=jdk.internal.vm.ci/jdk.vm.ci.common=jdk.graal.compiler,tornado.runtime,tornado.drivers.common
--add-exports=jdk.internal.vm.ci/jdk.vm.ci.meta=tornado.runtime,tornado.annotation,tornado.drivers.common,jdk.graal.compiler
--add-exports=jdk.internal.vm.ci/jdk.vm.ci.code=tornado.runtime,tornado.drivers.common,jdk.graal.compiler
--add-exports=jdk.internal.vm.ci/jdk.vm.ci.runtime=tornado.runtime,tornado.drivers.common
--add-exports=jdk.internal.vm.ci/jdk.vm.ci.hotspot=tornado.runtime,tornado.drivers.common
--add-exports=jdk.internal.vm.ci/jdk.vm.ci.amd64=tornado.runtime,tornado.drivers.common
--add-opens=jdk.internal.vm.ci/jdk.vm.ci.hotspot=tornado.runtime

# Java base opens
--add-opens=java.base/jdk.internal.misc=jdk.graal.compiler
